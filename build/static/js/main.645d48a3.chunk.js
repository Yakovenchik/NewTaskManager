(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(48)},29:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i,s,l,u,m,p,d,h,b,f,k,g,y,E=a(1),v=a.n(E),O=a(9),j=a.n(O),w=(a(29),a(7)),C=a(8),T=a(11),P=a(10),N=a(12),x=a(23),_=a(5),L=(a(32),a(3)),S=(a(34),Object(_.b)("stores")(n=Object(_.c)(n=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.stores,t=e.taskStore,a=e.logIn,n=this.props.item;return v.a.createElement("div",{className:"content"},10===n.status?v.a.createElement("div",{className:"complete"},"COMPLETED"):null,v.a.createElement(L.e,null,"Id: ",n.id),v.a.createElement("div",null,v.a.createElement(L.e,null,"Name: "),v.a.createElement("p",null,n.username)),v.a.createElement("div",null,v.a.createElement(L.e,null,"Email: "),v.a.createElement("p",null,n.email)),v.a.createElement("div",null,v.a.createElement(L.e,null,"Task: "),v.a.createElement("p",null,n.text)),"preview"===this.props.type?v.a.createElement(L.f,{alt:n.id,src:n.imagePreview}):v.a.createElement(L.f,{alt:n.id,src:n.image_path}),v.a.createElement("br",null),"preview"!==this.props.type&&a.admin?v.a.createElement(L.a,{onClick:function(){t.modifyTask(n)}},"Change Content"):null,"preview"===this.props.type?v.a.createElement(L.a,{onClick:function(){return t.openForm("preview")}},"Close Preview"):null)}}]),t}(E.Component))||n)||n),I=Object(_.b)("stores")(r=Object(_.c)(r=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"handleClick",value:function(e){var t=this.props.stores.taskStore;t.currentPage=e;var a="https://uxcandy.com/~shapoval/test-task-backend/?developer=Aleksandr&page="+(t.currentPage+1);t.receiveList(a)}},{key:"render",value:function(){var e=this,t=this.props.stores.taskStore,a=Math.ceil(t.totalCount/3);return v.a.createElement("div",null,v.a.createElement(L.g,{"aria-label":"Page navigation example"},v.a.createElement(L.h,{disabled:t.currentPage<=0},v.a.createElement(L.i,{onClick:function(){return e.handleClick(t.currentPage-1)},previous:!0,href:"#"})),Object(x.a)(Array(a)).map(function(a,n){return v.a.createElement(L.h,{active:n===t.currentPage,key:n},v.a.createElement(L.i,{onClick:function(){return e.handleClick(n)},href:"#"},n+1))}),v.a.createElement(L.h,{disabled:t.currentPage>=a-1},v.a.createElement(L.i,{onClick:function(){return e.handleClick(t.currentPage+1)},next:!0,href:"#"}))),v.a.createElement("br",null),v.a.createElement(L.b,null,v.a.createElement(L.c,null,v.a.createElement(L.e,null,"Sort type: ",t.sort.field)," ",v.a.createElement("br",null),v.a.createElement(L.a,{onClick:function(){t.sort.field="id",t.receiveList()}},"Id "),v.a.createElement(L.a,{onClick:function(){t.sort.field="email",t.receiveList()}},"Email "),v.a.createElement(L.a,{onClick:function(){t.sort.field="username",t.receiveList()}},"Username "),v.a.createElement(L.a,{onClick:function(){t.sort.field="status",t.receiveList()}},"Status "))," ",v.a.createElement("br",null),v.a.createElement(L.c,null,v.a.createElement(L.e,null,"Sort direction: ",t.sort.direction)," ",v.a.createElement("br",null),v.a.createElement(L.a,{onClick:function(){t.sort.direction="asc",t.receiveList()}},"ASC "),v.a.createElement(L.a,{onClick:function(){t.sort.direction="desc",t.receiveList()}},"DESC "))),t.taskList.map(function(e,t){return v.a.createElement("div",{key:t},v.a.createElement("div",{className:"task"},v.a.createElement(S,{taskId:e.id,item:e,type:"list"})))}))}}]),t}(E.Component))||r)||r,D=(a(38),Object(_.b)("stores")(c=Object(_.c)(c=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"sendTask",value:function(e){this.props.stores.taskStore.addTask(e)}},{key:"getImage",value:function(e){var t=this.props.stores.taskStore,a=new FileReader,n=e.target.files[0];a.onloadend=function(){t.newTask.image=n,t.newTask.imagePreview=a.result},a.readAsDataURL(n)}},{key:"render",value:function(){var e=this,t=this.props.stores.taskStore;return v.a.createElement("div",{className:"headerTask"},v.a.createElement("h1",null,"Tasks"),v.a.createElement(L.a,{onClick:function(){return t.openForm("add_task")}},t.adding?"Close Adding":"Add New Task"),v.a.createElement(L.b,{className:"add_task",id:"add_task",style:{display:"none"}},v.a.createElement(L.c,{check:!0},v.a.createElement(L.e,null," Name: "),v.a.createElement(L.d,{placeholder:"Name...",onChange:function(e){return t.newTask.username=e.target.value},required:!0})),v.a.createElement(L.c,{check:!0},v.a.createElement(L.e,null," Email: "),v.a.createElement(L.d,{type:"email",name:"email",placeholder:"Email...",onChange:function(e){return t.newTask.email=e.target.value},required:!0})),v.a.createElement(L.c,{check:!0},v.a.createElement(L.e,null," Task: "),v.a.createElement(L.d,{type:"text",placeholder:"Description...",onChange:function(e){return t.newTask.text=e.target.value},required:!0})),v.a.createElement(L.c,{check:!0},v.a.createElement(L.e,null," Image: "),v.a.createElement(L.d,{type:"file",onChange:function(t){return e.getImage(t)}})),v.a.createElement(L.c,{className:"button_group"},v.a.createElement(L.a,{onClick:function(){return t.openForm("preview")}},"Preview"),v.a.createElement(L.a,{onClick:function(){e.sendTask(t.newTask)}},"New Task"),v.a.createElement(L.a,{onClick:function(){return t.openForm("add_task")}},"Close Adding"))),v.a.createElement("div",{className:"preview",id:"preview",style:{display:"none"}},v.a.createElement(S,{item:t.newTask,type:"preview"})))}}]),t}(E.Component))||c)||c),F=(a(40),Object(_.b)("stores")(o=Object(_.c)(o=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.stores,t=e.taskStore,a=e.logIn;return v.a.createElement("div",null,v.a.createElement(L.a,{onClick:function(){return t.openForm("login_form")}},"LogIn"),v.a.createElement(L.b,{className:"login_form",inline:!0,style:{display:"none"},id:"login_form"},v.a.createElement(L.c,{className:"mb-2 mr-sm-2 mb-sm-0"},v.a.createElement(L.e,{for:"Username",className:"mr-sm-2"},"Username:"),v.a.createElement(L.d,{id:"Username",placeholder:"Username",name:"username",onChange:function(e){return a.authUser.username=e.target.value}})),v.a.createElement(L.c,{className:"mb-2 mr-sm-2 mb-sm-0"},v.a.createElement(L.e,{for:"Password",className:"mr-sm-2"},"Password:"),v.a.createElement(L.d,{type:"password",name:"password",id:"Password",placeholder:"******",onChange:function(e){return a.authUser.password=e.target.value}})),v.a.createElement("div",{className:"button_group"},v.a.createElement(L.a,{onClick:function(){return a.auth(a.authUser)}},"LogIn"),v.a.createElement(L.a,{onClick:function(){t.openForm("login_form")}},"Close"))))}}]),t}(E.Component))||o)||o),U=(a(42),Object(_.b)("stores")(i=Object(_.c)(i=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.stores.taskStore;return v.a.createElement(L.b,{className:"modify",inline:!0,style:{display:"none"},id:"modify"},v.a.createElement(L.e,{for:"text",className:"mr-sm-2"},"Id: ",e.changeTask.id),v.a.createElement(L.c,{className:"mb-2 mr-sm-2 mb-sm-0"},v.a.createElement(L.e,{for:"text",className:"mr-sm-2"},"Text:"),v.a.createElement(L.d,{id:"text",value:e.changeTask.text,placeholder:"text",name:"text",onChange:function(t){return e.changeTask.text=t.target.value}})),v.a.createElement(L.c,{className:"mb-2 mr-sm-2 mb-sm-0"},v.a.createElement(L.e,{for:"status",className:"mr-sm-2"},"Status(10 is completed):"),v.a.createElement(L.d,{name:"status",type:"number",id:"status",value:e.changeTask.status,onChange:function(t){return e.changeTask.status=t.target.value}})),v.a.createElement(L.c,{className:"button_group"},v.a.createElement(L.a,{onClick:function(){e.change()}},"Change"),v.a.createElement(L.a,{onClick:function(){e.openForm("modify")}},"Close")))}}]),t}(E.Component))||i)||i),A=Object(_.b)("stores")(s=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.stores.taskStore.receiveList()}},{key:"render",value:function(){return v.a.createElement("div",null,v.a.createElement(F,null),v.a.createElement(D,null),v.a.createElement(I,null),v.a.createElement(U,null))}}]),t}(E.Component))||s,z=(a(44),a(13)),B=a(6),q=(a(19),a(4)),J=a(22),M=a.n(J),R=(l=function(){function e(){Object(w.a)(this,e),Object(z.a)(this,"taskList",u,this),Object(z.a)(this,"newTask",m,this),Object(z.a)(this,"adding",p,this),Object(z.a)(this,"currentPage",d,this),Object(z.a)(this,"totalCount",h,this),Object(z.a)(this,"changeTask",b,this),Object(z.a)(this,"sort",f,this)}return Object(C.a)(e,[{key:"addTask",value:function(e){var t=this,a=new FormData;a.append("username",e.username),a.append("email",e.email),a.append("text",e.text),a.append("image",e.image);fetch("https://uxcandy.com/~shapoval/test-task-backend/create?developer=Aleksandr",{crossDomain:!0,method:"POST",mimeType:"multipart/form-data",contentType:!1,processData:!1,body:a,dataType:"json"}).then(function(e){return e.json()}).then(function(e){"ok"===e.status?(document.getElementById("add_task").reset(),t.openForm("add_task"),t.receiveList()):alert(JSON.stringify(e.message))}).catch(function(e){console.log(e)})}},{key:"modifyTask",value:function(e){this.changeTask={status:e.status,text:e.text,id:e.id},this.openForm("modify")}},{key:"change",value:function(){var e=new FormData;e.append("text",encodeURIComponent(this.changeTask.text)),e.append("status",this.changeTask.status),e.append("token","beejee");var t="status="+this.changeTask.status+"&text="+e.get("text")+"&token=beejee";e.append("signature",M()(t));var a={crossDomain:!0,method:"POST",mimeType:"multipart/form-data",contentType:!1,processData:!1,body:e,dataType:"json"},n="https://uxcandy.com/~shapoval/test-task-backend/edit/"+this.changeTask.id+"?developer=Aleksandr";fetch(n,a).then(function(e){return e.json()}).then(function(e){"ok"!==e.status&&alert(JSON.stringify(e))}).catch(function(e){console.log(e)}),this.receiveList()}},{key:"openForm",value:function(e){"none"===document.getElementById(e).style.display?document.getElementById(e).style.display="block":document.getElementById(e).style.display="none"}},{key:"receiveList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://uxcandy.com/~shapoval/test-task-backend/?developer=Aleksandr";fetch(t+"&sort_field="+this.sort.field+"&sort_direction="+this.sort.direction+"&page="+(this.currentPage+1)).then(function(e){return e.json()}).then(function(t){e.taskList=t.message.tasks,e.totalCount=t.message.total_task_count}).catch(function(e){console.log(e)})}}]),e}(),u=Object(B.a)(l.prototype,"taskList",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=Object(B.a)(l.prototype,"newTask",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=Object(B.a)(l.prototype,"adding",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(B.a)(l.prototype,"currentPage",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=Object(B.a)(l.prototype,"totalCount",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=Object(B.a)(l.prototype,"changeTask",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=Object(B.a)(l.prototype,"sort",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{direction:"",field:""}}}),Object(B.a)(l.prototype,"addTask",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"addTask"),l.prototype),Object(B.a)(l.prototype,"modifyTask",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"modifyTask"),l.prototype),Object(B.a)(l.prototype,"change",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"change"),l.prototype),Object(B.a)(l.prototype,"openForm",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"openForm"),l.prototype),Object(B.a)(l.prototype,"receiveList",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"receiveList"),l.prototype),l),G=(k=function(){function e(){Object(w.a)(this,e),Object(z.a)(this,"admin",g,this),Object(z.a)(this,"authUser",y,this)}return Object(C.a)(e,[{key:"auth",value:function(e){var t=H.taskStore,a=!1;return e.username?e.password?a=!0:alert("Password is reaquire"):alert("Username is require"),a&&"admin"===e.username&&"123"===e.password?(this.admin=!0,t.openForm("login_form"),document.getElementById("login_form").reset()):(this.admin=!1,t.openForm("login_form"),document.getElementById("login_form").reset()),a}}]),e}(),g=Object(B.a)(k.prototype,"admin",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=Object(B.a)(k.prototype,"authUser",[q.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(B.a)(k.prototype,"auth",[q.d],Object.getOwnPropertyDescriptor(k.prototype,"auth"),k.prototype),k),H={taskStore:new R,logIn:new G},K=document.getElementById("root");j.a.render(v.a.createElement(_.a,{stores:H},v.a.createElement(A,null)),K)}},[[24,2,1]]]);
//# sourceMappingURL=main.645d48a3.chunk.js.map